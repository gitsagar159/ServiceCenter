
@{
    ViewBag.Title = "EraseChargesBetweenTwoDatesForm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section style {

    <link rel="stylesheet" href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedheader/3.1.2/css/fixedHeader.dataTables.min.css">

}

<div class="layout-content">

    <!-- Content -->
    <div class="container-fluid flex-grow-1 container-p-y">

        <div class="card mb-2">
            <div class="card-body" style="padding: 0px 24px 16px 24px">
                <form role="form" class="form-inline mt-4">
                    <div class="form-group mr-5">
                        <label class="form-label mr-3">From Date</label>
                        <input type="text" class="form-control datepicker-features" name="FromDate" id="FromDate" placeholder="From Date">
                        <small id="FromDate_ToolTip" class="" style="display:none">Enter From Date</small>
                    </div>
                    <div class="form-group mr-5">
                        <label class="form-label mr-3">To Date</label>
                        <input type="text" class="form-control datepicker-features" name="ToDate" id="ToDate" placeholder="To Date">
                        <small id="ToDate_ToolTip" class="" style="display:none">Enter To Date</small>
                    </div>

                    <div class="form-group mr-5">
                        <button id="btnsubmit" class="btn btn-primary"> Submit </button>
                    </div>

                </form>
            </div>
        </div>
        
    </div>
    <!-- / Content -->
    <!-- Layout footer -->
    @Html.Partial("FooterBar")
    <!-- / Layout footer -->

    @section scripts {

        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
        <script src="~/Scripts/ProjectJs/CallRegistration.js"></script>
        <script src="https://cdn.datatables.net/fixedheader/3.1.2/js/dataTables.fixedHeader.min.js" type="text/javascript"></script>
        <script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

        <script>

            $(document).ready(function () {
                $("#btnsubmit").click(function (e) {
                    InsertUpdateItem();

                });
            });


            function fnValidateSearchform() {

                var IsValid = true;
                var fromDate = $("#FromDate").val();
                var toDate = $("#ToDate").val();

                if (fromDate === "") {
                    $("#FromDate").addClass("is-invalid");
                    toastr["error"]("Enter From Date");
                    IsValid = false;
                }
                else {
                    $("#FromDate").removeClass("is-invalid");
                    $("#FromDate").next().removeClass("invalid-feedback").hide();
                }

                if (toDate === "") {
                    $("#ToDate").addClass("is-invalid");
                    toastr["error"]("Enter To Date");
                    IsValid = false;
                }
                else {
                    $("#ToDate").removeClass("is-invalid");
                    $("#ToDate").next().removeClass("invalid-feedback").hide();
                }

                return IsValid;
            }


            function EraseChargesBetweenTwoDatesForm() {

                if (fnValidateSearchform()) {
                    var fromDate = $("#FromDate").val();
                    var toDate = $("#ToDate").val();

                    

                    $.ajax({
                        type: "POST",
                        url: "/Report/EraseChargesBetweenTwoDates",
                        data: { FromDate: fromDate, ToDate: toDate, CallCategory: callCategory },
                        cache: true,
                        async: true,
                        success: function (result) {

                            if (result.data.Responce === false)
                            {
                                toastr["error"](result.data.Message);
                            }
                            else
                            {
                                toastr["success"](result.data.Message);

                            }

                        }
                    });
                }
            }
        </script>
    }

</div>

